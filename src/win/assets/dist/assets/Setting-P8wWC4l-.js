import{d as L,_ as M,s as V}from"./_plugin-vue_export-helper-DWPyQj2l.js";import{s as R}from"./index.esm-wLTkxiB8.js";import{C as z,c as b,o as l,F as C,k as S,G as h,a as u,d as p,m,l as I,q as y,t as x,j as v,H as q,L as Z,T as G,R as Q,M as B,$ as T,U as D,E as J,r as H,Q as W,b as f,i as U,s as $,V as X,f as Y,h as ee}from"./index-BazVfGja.js";import{s as te}from"./avatar.esm-CLLyohZ0.js";import{M as E,u as ne}from"./Markdown-CVl_ci1W.js";import{u as ae,Z as re,K as oe,O as ie,D as se,B as ce,T as le,a as de,b as ue}from"./Zhipu-Q5luzPNI.js";import{g as pe}from"./knowledge-CcSFbGDj.js";var he={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,a=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(a)}]},header:function(e){var n=e.instance,a=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(a,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},be=z.extend({name:"accordion",classes:he}),fe={name:"BaseAccordion",extends:B,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:be,provide:function(){return{$parentInstance:this}}},F={name:"Accordion",extends:fe,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||D()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||D()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,a){var i=this.tabs.length,r={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:a,count:i,first:a===0,last:a===i-1,active:this.isTabActive(a)}};return h(this.ptm("tab.".concat(n),{tab:r}),this.ptm("accordiontab.".concat(n),{accordiontab:r}),this.ptm("accordiontab.".concat(n),r),this.ptmo(this.getTabProp(e,"pt"),n,r))},onTabClick:function(e,n,a){this.changeActiveIndex(e,n,a),this.$emit("tab-click",{originalEvent:e,index:a})},onTabKeyDown:function(e,n,a){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,a);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,a){this.changeActiveIndex(e,n,a),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n?e:e.nextElementSibling,i=T.findSingle(a,'[data-pc-section="header"]');return i?T.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):T.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n?e:e.previousElementSibling,i=T.findSingle(a,'[data-pc-section="header"]');return i?T.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):T.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,a){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(a),r=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==a}):this.d_activeIndex?this.d_activeIndex.push(a):this.d_activeIndex=[a]:this.d_activeIndex=this.d_activeIndex===a?null:a,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(r,{originalEvent:e,index:a})}},changeFocusedTab:function(e,n){if(n&&(T.focus(n),this.selectOnFocus)){var a=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[a];this.changeActiveIndex(e,i,a)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,a){return e.isAccordionTab(a)?n.push(a):a.children&&a.children instanceof Array&&a.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:L,ChevronRightIcon:R},directives:{ripple:Q}};function w(t){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(a){me(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function me(t,e,n){return e=ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ge(t){var e=ve(t,"string");return w(e)=="symbol"?e:String(e)}function ve(t,e){if(w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(w(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Te=["data-pc-index","data-p-active"],ye=["data-p-highlight","data-p-disabled"],Ae=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],_e=["id","aria-labelledby"];function xe(t,e,n,a,i,r){return l(),b("div",h({class:t.cx("root")},t.ptmi("root")),[(l(!0),b(C,null,S(r.tabs,function(o,s){return l(),b("div",h({key:r.getKey(o,s),class:t.cx("tab.root",{tab:o,index:s})},r.getTabPT(o,"root",s),{"data-pc-name":"accordiontab","data-pc-index":s,"data-p-active":r.isTabActive(s)}),[u("div",h({style:r.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:s}),r.getTabProp(o,"headerClass")]},_(_({},r.getTabProp(o,"headerProps")),r.getTabPT(o,"header",s)),{"data-p-highlight":r.isTabActive(s),"data-p-disabled":r.getTabProp(o,"disabled")}),[u("a",h({id:r.getTabHeaderActionId(s),class:t.cx("tab.headerAction"),tabindex:r.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":r.getTabProp(o,"disabled"),"aria-expanded":r.isTabActive(s),"aria-controls":r.getTabContentId(s),onClick:function(c){return r.onTabClick(c,o,s)},onKeydown:function(c){return r.onTabKeyDown(c,o,s)}},_(_({},r.getTabProp(o,"headeractionprops")),r.getTabPT(o,"headeraction",s))),[o.children&&o.children.headericon?(l(),m(y(o.children.headericon),{key:0,isTabActive:r.isTabActive(s),active:r.isTabActive(s),index:s},null,8,["isTabActive","active","index"])):r.isTabActive(s)?(l(),m(y(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),h({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},r.getTabPT(o,"headericon",s)),null,16,["class"])):(l(),m(y(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),h({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},r.getTabPT(o,"headericon",s)),null,16,["class"])),o.props&&o.props.header?(l(),b("span",h({key:3,class:t.cx("tab.headerTitle")},r.getTabPT(o,"headertitle",s)),x(o.props.header),17)):I("",!0),o.children&&o.children.header?(l(),m(y(o.children.header),{key:4})):I("",!0)],16,Ae)],16,ye),p(G,h({name:"p-toggleable-content"},r.getTabPT(o,"transition",s)),{default:v(function(){return[!t.lazy||r.isTabActive(s)?q((l(),b("div",h({key:0,id:r.getTabContentId(s),style:r.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),r.getTabProp(o,"contentClass")],role:"region","aria-labelledby":r.getTabHeaderActionId(s)},_(_({},r.getTabProp(o,"contentProps")),r.getTabPT(o,"toggleablecontent",s))),[u("div",h({class:t.cx("tab.content")},r.getTabPT(o,"content",s)),[(l(),m(y(o)))],16)],16,_e)),[[Z,t.lazy?!0:r.isTabActive(s)]]):I("",!0)]}),_:2},1040)],16,Te)}),128))],16)}F.render=xe;var Ie={},we={name:"BaseAccordionTab",extends:B,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:Ie,provide:function(){return{$parentInstance:this}}},N={name:"AccordionTab",extends:we,inheritAttrs:!1};function Pe(t,e,n,a,i,r){return J(t.$slots,"default")}N.render=Pe;const ke={class:"flex flex-col items-start justify-start gap-4"},Ee={key:0,class:"content-box"},Ce={key:1,class:"content-box"},Se=`
  ### 推荐下载模型
\`\`\`bash
  ollama run nomic-embed-text
\`\`\`
  ### ollama安装流程

  #### 请参照基础模型中Ollama方式配置

  在终端中运行以下命令下载模型：
\`\`\`bash
ollama pull nomic-embed-text
\`\`\`

  ### 其他Embedding模型推荐
\`\`\`bash
ollama run mxbai-embed-large
ollama run snowflake-arctic-embed
ollama run granite-embedding
\`\`\`
  `,He=`
 您的OllamaUrl中包含嵌入模型，可直接使用
`,Oe=`
 您的OllamaUrl中不包含嵌入模型，请根据下面教程进行部署
`,Ke={__name:"EmOllama",props:{modelId:{type:[Number,String],default:""},model:{type:Object,default:()=>({})},currentUrl:{type:String,default:""}},setup(t){const e=H(!1),n=H(0),a=t,{url:i,save:r,loading:o}=ae(a);W(()=>a.currentUrl,g=>{i.value=g},{});function s(){pe().then(g=>{let c=g.resData;e.value=!0,c===null?n.value=2:c.length?(n.value=1,r()):n.value=2})}return(g,c)=>{const P=V,k=$;return l(),b("div",ke,[c[2]||(c[2]=u("div",{class:""},[u("span",null,"检测本地Ollama中是否包含嵌入模型")],-1)),p(P,{variant:"filled",pt:{input:{style:{width:"100%",backgroundColor:"#e9ecef",color:"#6c757d"}}},class:"w-full",modelValue:f(i),"onUpdate:modelValue":c[0]||(c[0]=A=>U(i)?i.value=A:null),placeholder:"http://localhost:11434",disabled:!0},null,8,["modelValue"]),p(k,{severity:"contrast",label:"检测",onClick:s,loading:f(o)},null,8,["loading"]),p(f(X),{visible:f(e),"onUpdate:visible":c[1]||(c[1]=A=>U(e)?e.value=A:null),header:"本地嵌入模型检测",style:{width:"800px"},modal:!0},{default:v(()=>[f(n)===1?(l(),b("div",Ee,[p(E,{content:He})])):I("",!0),f(n)===2?(l(),b("div",Ce,[p(E,{content:Oe})])):I("",!0)]),_:1},8,["visible"]),p(E,{content:Se})])}}},De=M(Ke,[["__scopeId","data-v-7427da05"]]),Ue={class:"w-full h-full bg-zinc-50 overflow-y-auto"},je={class:""},Be={class:"text-slate-500 font-bold text-xl text-center block w-full"},$e={class:"container"},Fe={class:"flex items-center gap-2 w-full"},Ne={class:"font-bold white-space-nowrap"},Le={class:"text-slate-500 font-bold text-xl text-center block w-full"},Me={class:"container"},Ve={class:"flex items-center gap-2 w-full"},Re={class:"font-bold white-space-nowrap"},Xe={__name:"Setting",setup(t){const e={deepseek_local:ue,ollama:de,tencent:le,baidu:ce,deepseek_office:se,openai:ie,kimi:oe,zhipu:re},n={ollama:De},a=ne(),i=Y(()=>a.modelList),r=i.value.filter(c=>c.key==="ollama");console.log(r);const o=ee(),s=H(""),g=c=>{s.value=c};return(c,P)=>{const k=$,A=te,O=N,K=F;return l(),b("div",Ue,[u("div",je,[p(k,{text:"",icon:"pi pi-angle-left",label:"设置",onClick:P[0]||(P[0]=d=>f(o).go(-1))})]),u("label",Be,x(c.$t("lang.basemodel")),1),u("div",$e,[p(K,{activeIndex:0},{default:v(()=>[(l(!0),b(C,null,S(f(i),d=>(l(),m(O,{key:d.id},{header:v(()=>[u("span",Fe,[p(A,{image:d.model_pic,shape:"circle"},null,8,["image"]),u("span",Ne,x(d.name),1)])]),default:v(()=>[(l(),m(y(e[d.key]),{"model-id":d.id,model:d,onUpdate:g},null,40,["model-id","model"]))]),_:2},1024))),128))]),_:1})]),u("label",Le,x(c.$t("lang.embeddingmodel")),1),u("div",Me,[p(K,{activeIndex:0},{default:v(()=>[(l(!0),b(C,null,S(f(r),d=>(l(),m(O,{key:d.id},{header:v(()=>[u("span",Ve,[p(A,{image:d.model_pic,shape:"circle"},null,8,["image"]),u("span",Re,x(d.name),1)])]),default:v(()=>[(l(),m(y(n[d.key]),{"model-id":d.id,model:d,currentUrl:f(s)},null,8,["model-id","model","currentUrl"]))]),_:2},1024))),128))]),_:1})])])}}};export{Xe as default};
