import{r as p,c as a,o as n,d,l as h,j as x,b as l,a as t,t as u,s as b}from"./index-DFcxYj_y.js";import{s as k}from"./fileupload.esm-jJFadivN.js";import{f as y}from"./_plugin-vue_export-helper-SEVEPmIB.js";import{q as F,r as w}from"./knowledge-BUDwfYIP.js";const C={class:"file-container w-full flex flex-col justify-start items-start"},g={key:0,class:"pi pi-spin pi-spinner mr-1"},B={key:1,class:"pi pi-file mr-1"},S={key:0,class:"flex items-center w-full mt-2 cursor-pointer"},z={class:"w-56 break-all whitespace-nowrap overflow-hidden text-ellipsis"},U={class:"ml-4"},E={__name:"CodeAnalysis",setup(D){const s=p(!1),r=p(),e=p([]);function f(){e.value=[]}function m(){e.value=[],w()}const _=i=>{const o=new FormData;i.files.forEach(c=>{o.append("file",c)}),s.value=!0,e.value=[],F(o).then(()=>{e.value=i.files,r.value.clear(),r.value.uploadedFileCount=0}).finally(()=>{s.value=!1})};return(i,o)=>{const c=k,v=b;return n(),a("div",C,[d(c,{mode:"basic",name:"uploader",ref_key:"uploaderRef",ref:r,url:"",accept:".zip","choose-label":i.$t("kb.selectFile"),"upload-icon":"pi pi-file",maxFileSize:50*1024*1024,auto:"",customUpload:"",onUploader:_,onSelect:f,disabled:l(s),pt:{chooseButton:{class:"p-button-text"}}},{uploadicon:x(()=>[l(s)?(n(),a("i",g)):(n(),a("i",B))]),_:1},8,["choose-label","disabled"]),l(e).length>0?(n(),a("div",S,[o[1]||(o[1]=t("i",{class:"pi pi-file text-4xl"},null,-1)),t("div",null,[t("div",z,u(l(e)[0].name),1),t("div",null,u(l(y)(l(e)[0].size)),1)]),t("div",U,[d(v,{icon:"pi pi-times",onClick:o[0]||(o[0]=L=>m()),rounded:"",text:"",severity:"danger"})])])):h("",!0)])}}};export{E as default};
