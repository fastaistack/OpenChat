import{C as X,a1 as ft,R as xe,M as R,a2 as ht,$ as T,a3 as bt,a4 as ye,U as Q,G as k,a7 as B,D as fe,c as b,l as x,o as p,a as r,H as z,m as D,n as H,q as J,t as v,B as ae,j as V,d as u,T as Oe,E as A,F as K,k as W,x as N,L as _e,a5 as he,P as M,e as L,A as de,b as a,s as ce,r as $,i as ie,u as gt,f as vt,V as yt,Z as ke,h as kt,a8 as _t}from"./index-DsTE_LlG.js";import{s as St,a as wt,b as Ct}from"./FileIcon-M0yzNUPn.js";import{s as xt}from"./card.esm-D0Id7aaz.js";import{b as Pe,s as Ot,a as Ue}from"./slider.esm-C-BW2_TT.js";import{s as Fe,_ as Ie}from"./_plugin-vue_export-helper-CEOctT9D.js";import{c as Re,a as Se,u as Me}from"./vee-validate-B4phEhVM.js";import{u as He,g as Ne,c as Pt,a as It,b as Vt,d as qe,e as $t,f as Lt}from"./knowledge-fmN4jqBm.js";import{U as Tt}from"./UploadFile-wfdox5bH.js";import{s as Dt,a as Ge}from"./inputnumber.esm-DHnLirwo.js";import{s as Ve}from"./dropdown.esm-BFXC3PJ6.js";import"./index.esm-Tg_j_OG4.js";import"./fileupload.esm-CTzYznGZ.js";var At={root:function(e){var n=e.instance,i=e.props;return["p-menu p-component",{"p-menu-overlay":i.popup,"p-ripple-disabled":n.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(e){var n=e.instance;return["p-menuitem",{"p-focus":n.id===n.focusedOptionId,"p-disabled":n.disabled()}]},content:"p-menuitem-content",action:"p-menuitem-link",icon:"p-menuitem-icon",label:"p-menuitem-text"},Kt=X.extend({name:"menu",classes:At}),Et={name:"BaseMenu",extends:R,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Kt,provide:function(){return{$parentInstance:this}}},Ze={name:"Menuitem",hostName:"Menu",extends:R,inheritAttrs:!1,emits:["item-click","item-mousemove"],props:{item:null,templates:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(e,n){return e&&e.item?B.getItemValue(e.item[n]):void 0},getPTOptions:function(e){return this.ptm(e,{context:{item:this.item,index:this.index,focused:this.isItemFocused(),disabled:this.disabled()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemClick:function(e){var n=this.getItemProp(this.item,"command");n&&n({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},onItemMouseMove:function(e){this.$emit("item-mousemove",{originalEvent:e,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},getMenuItemProps:function(e){return{action:k({class:this.cx("action"),tabindex:"-1","aria-hidden":!0},this.getPTOptions("action")),icon:k({class:[this.cx("icon"),e.icon]},this.getPTOptions("icon")),label:k({class:this.cx("label")},this.getPTOptions("label"))}}},directives:{ripple:xe}},jt=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],Bt=["href","target"];function zt(t,e,n,i,c,l){var y=fe("ripple");return l.visible()?(p(),b("li",k({key:0,id:n.id,class:[t.cx("menuitem"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":l.label(),"aria-disabled":l.disabled()},l.getPTOptions("menuitem"),{"data-p-focused":l.isItemFocused(),"data-p-disabled":l.disabled()||!1}),[r("div",k({class:t.cx("content"),onClick:e[0]||(e[0]=function(d){return l.onItemClick(d)}),onMousemove:e[1]||(e[1]=function(d){return l.onItemMouseMove(d)})},l.getPTOptions("content")),[n.templates.item?n.templates.item?(p(),D(J(n.templates.item),{key:1,item:n.item,label:l.label(),props:l.getMenuItemProps(n.item)},null,8,["item","label","props"])):x("",!0):z((p(),b("a",k({key:0,href:n.item.url,class:t.cx("action"),target:n.item.target,tabindex:"-1","aria-hidden":"true"},l.getPTOptions("action")),[n.templates.itemicon?(p(),D(J(n.templates.itemicon),{key:0,item:n.item,class:H(t.cx("icon"))},null,8,["item","class"])):n.item.icon?(p(),b("span",k({key:1,class:[t.cx("icon"),n.item.icon]},l.getPTOptions("icon")),null,16)):x("",!0),r("span",k({class:t.cx("label")},l.getPTOptions("label")),v(l.label()),17)],16,Bt)),[[y]])],16)],16,jt)):x("",!0)}Ze.render=zt;function Ae(t){return Mt(t)||Rt(t)||Ft(t)||Ut()}function Ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){if(t){if(typeof t=="string")return we(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(t,e)}}function Rt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mt(t){if(Array.isArray(t))return we(t)}function we(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var We={name:"Menu",extends:Et,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||Q()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||Q(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&ye.clear(this.container),this.container=null},methods:{itemClick:function(e){var n=e.item;this.disabled(n)||(n.command&&n.command(e),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},itemMouseMove:function(e){this.focused&&(this.focusedOptionIndex=e.id)},onListFocus:function(e){this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(T.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(e){var n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey&&this.popup)T.focus(this.target),this.hide(),e.preventDefault();else{var n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey:function(e){this.changeFocusedOptionIndex(T.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()},onEnterKey:function(e){var n=T.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),i=n&&T.findSingle(n,'a[data-pc-section="action"]');this.popup&&T.focus(this.target),i?i.click():n&&n.click(),e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},findNextOptionIndex:function(e){var n=T.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Ae(n).findIndex(function(c){return c.id===e});return i>-1?i+1:0},findPrevOptionIndex:function(e){var n=T.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Ae(n).findIndex(function(c){return c.id===e});return i>-1?i-1:0},changeFocusedOptionIndex:function(e){var n=T.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=e>=n.length?n.length-1:e<0?0:e;i>-1&&(this.focusedOptionIndex=n[i].getAttribute("id"))},toggle:function(e){this.overlayVisible?this.hide():this.show(e)},show:function(e){this.overlayVisible=!0,this.target=e.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(e){T.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&ye.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&T.focus(this.list),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&ye.clear(e)},alignOverlay:function(){T.absolutePosition(this.container,this.target);var e=T.getOuterWidth(this.target);e>T.getOuterWidth(this.container)&&(this.container.style.minWidth=T.getOuterWidth(this.target)+"px")},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){var i=e.container&&!e.container.contains(n.target),c=!(e.target&&(e.target===n.target||e.target.contains(n.target)));e.overlayVisible&&i&&c?e.hide():!e.popup&&i&&c&&(e.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new bt(this.target,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!T.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled:function(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label:function(e){return typeof e.label=="function"?e.label():e.label},onOverlayClick:function(e){ht.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef:function(e){this.container=e},listRef:function(e){this.list=e}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:Ze,Portal:ft}},Ht=["id"],Nt=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],qt=["id"];function Gt(t,e,n,i,c,l){var y=ae("PVMenuitem"),d=ae("Portal");return p(),D(d,{appendTo:t.appendTo,disabled:!t.popup},{default:V(function(){return[u(Oe,k({name:"p-connected-overlay",onEnter:l.onEnter,onLeave:l.onLeave,onAfterLeave:l.onAfterLeave},t.ptm("transition")),{default:V(function(){return[!t.popup||c.overlayVisible?(p(),b("div",k({key:0,ref:l.containerRef,id:c.id,class:t.cx("root"),onClick:e[3]||(e[3]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)})},t.ptmi("root")),[t.$slots.start?(p(),b("div",k({key:0,class:t.cx("start")},t.ptm("start")),[A(t.$slots,"start")],16)):x("",!0),r("ul",k({ref:l.listRef,id:c.id+"_list",class:t.cx("menu"),role:"menu",tabindex:t.tabindex,"aria-activedescendant":c.focused?l.focusedOptionId:void 0,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,onFocus:e[0]||(e[0]=function(){return l.onListFocus&&l.onListFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onListBlur&&l.onListBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onListKeyDown&&l.onListKeyDown.apply(l,arguments)})},t.ptm("menu")),[(p(!0),b(K,null,W(t.model,function(f,s){return p(),b(K,{key:l.label(f)+s.toString()},[f.items&&l.visible(f)&&!f.separator?(p(),b(K,{key:0},[f.items?(p(),b("li",k({key:0,id:c.id+"_"+s,class:[t.cx("submenuHeader"),f.class],style:f.style,role:"none"},t.ptm("submenuHeader")),[A(t.$slots,"submenuheader",{item:f},function(){return[N(v(l.label(f)),1)]})],16,qt)):x("",!0),(p(!0),b(K,null,W(f.items,function(o,g){return p(),b(K,{key:o.label+s+"_"+g},[l.visible(o)&&!o.separator?(p(),D(y,{key:0,id:c.id+"_"+s+"_"+g,item:o,templates:t.$slots,focusedOptionId:l.focusedOptionId,unstyled:t.unstyled,onItemClick:l.itemClick,onItemMousemove:l.itemMouseMove,pt:t.pt},null,8,["id","item","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"])):l.visible(o)&&o.separator?(p(),b("li",k({key:"separator"+s+g,class:[t.cx("separator"),f.class],style:o.style,role:"separator"},t.ptm("separator")),null,16)):x("",!0)],64)}),128))],64)):l.visible(f)&&f.separator?(p(),b("li",k({key:"separator"+s.toString(),class:[t.cx("separator"),f.class],style:f.style,role:"separator"},t.ptm("separator")),null,16)):(p(),D(y,{key:l.label(f)+s.toString(),id:c.id+"_"+s,item:f,index:s,templates:t.$slots,focusedOptionId:l.focusedOptionId,unstyled:t.unstyled,onItemClick:l.itemClick,onItemMousemove:l.itemMouseMove,pt:t.pt},null,8,["id","item","index","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"]))],64)}),128))],16,Nt),t.$slots.end?(p(),b("div",k({key:1,class:t.cx("end")},t.ptm("end")),[A(t.$slots,"end")],16)):x("",!0)],16,Ht)):x("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}We.render=Gt;var Zt={root:{position:"relative"}},Wt={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},Jt=X.extend({name:"skeleton",classes:Wt,inlineStyles:Zt}),Qt={name:"BaseSkeleton",extends:R,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Jt,provide:function(){return{$parentInstance:this}}},Je={name:"Skeleton",extends:Qt,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Xt(t,e,n,i,c,l){return p(),b("div",k({class:t.cx("root"),style:[t.sx("root"),l.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}Je.render=Xt;var Yt={root:function(e){var n=e.props;return["p-selectbutton p-button-group p-component",{"p-disabled":n.disabled,"p-invalid":n.invalid}]},button:function(e){var n=e.instance,i=e.option;return["p-button p-component",{"p-highlight":n.isSelected(i),"p-disabled":n.isOptionDisabled(i)}]},label:"p-button-label"},en=X.extend({name:"selectbutton",classes:Yt}),tn={name:"BaseSelectButton",extends:R,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,ariaLabelledby:{type:String,default:null}},style:en,provide:function(){return{$parentInstance:this}}};function nn(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Qe(t))||e){n&&(t=n);var i=0,c=function(){};return{s:c,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(s){throw s},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,y=!1,d;return{s:function(){n=n.call(t)},n:function(){var s=n.next();return l=s.done,s},e:function(s){y=!0,d=s},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(y)throw d}}}}function ln(t){return on(t)||sn(t)||Qe(t)||an()}function an(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qe(t,e){if(t){if(typeof t=="string")return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,e)}}function sn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function on(t){if(Array.isArray(t))return Ce(t)}function Ce(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Xe={name:"SelectButton",extends:tn,inheritAttrs:!1,emits:["update:modelValue","focus","blur","change"],data:function(){return{focusedIndex:0}},mounted:function(){this.defaultTabIndexes()},methods:{defaultTabIndexes:function(){for(var e=T.find(this.$refs.container,'[data-pc-section="button"]'),n=T.findSingle(this.$refs.container,'[data-p-highlight="true"]'),i=0;i<e.length;i++)(T.getAttribute(e[i],"data-p-highlight")===!0&&B.equals(e[i],n)||n===null&&i==0)&&(this.focusedIndex=i)},getOptionLabel:function(e){return this.optionLabel?B.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?B.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?B.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getPTOptions:function(e,n){return this.ptm(n,{context:{active:this.isSelected(e),disabled:this.isOptionDisabled(e),option:e}})},isOptionDisabled:function(e){return this.optionDisabled?B.resolveFieldData(e,this.optionDisabled):!1},onOptionSelect:function(e,n,i){var c=this;if(!(this.disabled||this.isOptionDisabled(n))){var l=this.isSelected(n);if(!(l&&!(this.unselectable&&this.allowEmpty))){var y=this.getOptionValue(n),d;this.multiple?l?d=this.modelValue.filter(function(f){return!B.equals(f,y,c.equalityKey)}):d=this.modelValue?[].concat(ln(this.modelValue),[y]):[y]:d=l?null:y,this.focusedIndex=i,this.$emit("update:modelValue",d),this.$emit("change",{event:e,value:d})}}},isSelected:function(e){var n=!1,i=this.getOptionValue(e);if(this.multiple){if(this.modelValue){var c=nn(this.modelValue),l;try{for(c.s();!(l=c.n()).done;){var y=l.value;if(B.equals(y,i,this.equalityKey)){n=!0;break}}}catch(d){c.e(d)}finally{c.f()}}}else n=B.equals(this.modelValue,i,this.equalityKey);return n},onKeydown:function(e,n,i){switch(e.code){case"Space":{this.onOptionSelect(e,n,i),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.onArrowRightKey(e.target),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.onArrowLeftKey(e.target),e.preventDefault();break}}},onArrowRightKey:function(e){var n=this.findNextElement(e);n&&(this.focusedIndex=B.findIndexInList(n,this.findAllElements()),T.focus(n))},onArrowLeftKey:function(e){var n=this.findPrevElement(e);n&&(this.focusedIndex=B.findIndexInList(n,this.findAllElements()),T.focus(n))},findAllElements:function(){return T.find(this.$refs.container,'[data-pc-section="button"]')},findNextElement:function(e){return e.nextElementSibling?T.getAttribute(e.nextElementSibling,"data-p-disabled")?this.findNextElement(e.nextElementSibling):e.nextElementSibling:null},findPrevElement:function(e){return e.previousElementSibling?T.getAttribute(e.previousElementSibling,"data-p-disabled")?this.findPrevElement(e.previousElementSibling):e.previousElementSibling:null},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e,n){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,n)},findTabindex:function(e,n){return this.disabled||this.isOptionDisabled(e)||n!==this.focusedIndex?"-1":"0"}},computed:{equalityKey:function(){return this.optionValue?null:this.dataKey}},directives:{ripple:xe}},rn=["aria-labelledby"],dn=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur","data-p-highlight","data-p-disabled"];function cn(t,e,n,i,c,l){var y=fe("ripple");return p(),b("div",k({ref:"container",class:t.cx("root"),role:"group","aria-labelledby":t.ariaLabelledby},t.ptmi("root")),[(p(!0),b(K,null,W(t.options,function(d,f){return z((p(),b("div",k({key:l.getOptionRenderKey(d),tabindex:l.findTabindex(d,f),"aria-label":l.getOptionLabel(d),role:t.multiple?"checkbox":"radio","aria-checked":l.isSelected(d),"aria-disabled":l.isOptionDisabled(d),class:t.cx("button",{option:d}),onClick:function(o){return l.onOptionSelect(o,d,f)},onKeydown:function(o){return l.onKeydown(o,d,f)},onFocus:e[0]||(e[0]=function(s){return l.onFocus(s)}),onBlur:function(o){return l.onBlur(o,d)}},l.getPTOptions(d,"button"),{"data-p-highlight":l.isSelected(d),"data-p-disabled":l.isOptionDisabled(d)}),[A(t.$slots,"option",{option:d,index:f,class:H(t.cx("label"))},function(){return[r("span",k({class:t.cx("label")},l.getPTOptions(d,"label")),v(l.getOptionLabel(d)),17)]})],16,dn)),[[y]])}),128))],16,rn)}Xe.render=cn;var un={root:"p-confirm-dialog",icon:"p-confirm-dialog-icon",message:"p-confirm-dialog-message",rejectButton:function(e){var n=e.instance;return["p-confirm-dialog-reject",n.confirmation&&!n.confirmation.rejectClass?"p-button-text":null]},acceptButton:"p-confirm-dialog-accept"};X.extend({name:"confirmdialog",classes:un});var pn={root:function(e){var n=e.props;return["p-stepper p-component",{"p-stepper-horizontal":n.orientation==="horizontal","p-stepper-vertical":n.orientation==="vertical","p-readonly":n.linear}]},nav:"p-stepper-nav",stepper:{header:function(e){var n=e.instance;e.step;var i=e.index;return["p-stepper-header",{"p-highlight":n.isStepActive(i),"p-disabled":n.isItemDisabled(i)}]},action:"p-stepper-action",number:"p-stepper-number",title:"p-stepper-title",separator:"p-stepper-separator",toggleableContent:"p-stepper-toggleable-content",content:function(e){var n=e.props;return["p-stepper-content",{"p-toggleable-content":n.orientation==="vertical"}]}},panelContainer:"p-stepper-panels",panel:function(e){var n=e.instance,i=e.props,c=e.index;return["p-stepper-panel",{"p-stepper-panel-active":i.orientation==="vertical"&&n.isStepActive(c)}]}},mn=X.extend({name:"stepper",classes:pn}),fn={name:"BaseStepper",extends:R,props:{activeStep:{type:Number,default:0},orientation:{type:String,default:"horizontal"},linear:{type:Boolean,default:!1}},style:mn,provide:function(){return{$parentInstance:this}}},Ye={name:"StepperContent",hostName:"Stepper",extends:R,props:{id:null,template:null,ariaLabelledby:null,stepperpanel:null,index:null,active:null,highlighted:null,clickCallback:null,prevCallback:null,nextCallback:null,getStepPT:null}};function se(t){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ke(Object(n),!0).forEach(function(i){hn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hn(t,e,n){return e=bn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t){var e=gn(t,"string");return se(e)=="symbol"?e:String(e)}function gn(t,e){if(se(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(se(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vn=["id","aria-labelledby","data-pc-index","data-p-active"];function yn(t,e,n,i,c,l){return p(),b("div",k({id:n.id,class:t.cx("stepper.content",{stepperpanel:n.stepperpanel,index:n.index}),role:"tabpanel","aria-labelledby":n.ariaLabelledby},Ee(Ee({},n.getStepPT(n.stepperpanel,"root",n.index)),n.getStepPT(n.stepperpanel,"content",n.index)),{"data-pc-name":"stepperpanel","data-pc-index":n.index,"data-p-active":n.active}),[n.template?(p(),D(J(n.template),{key:0,index:n.index,active:n.active,highlighted:n.highlighted,clickCallback:function(d){return t.onItemClick(d,n.index)},prevCallback:function(d){return n.prevCallback(d,n.index)},nextCallback:function(d){return n.nextCallback(d,n.index)}},null,8,["index","active","highlighted","clickCallback","prevCallback","nextCallback"])):(p(),D(J(n.stepperpanel),{key:1}))],16,vn)}Ye.render=yn;var et={name:"StepperHeader",hostName:"Stepper",extends:R,props:{id:null,template:null,stepperpanel:null,index:null,disabled:null,active:null,highlighted:null,ariaControls:null,clickCallback:null,getStepPT:null,getStepProp:null}},kn=["id","tabindex","aria-controls"];function _n(t,e,n,i,c,l){return n.template?(p(),D(J(n.template),{key:0,index:n.index,active:n.active,highlighted:n.highlighted,class:H(t.cx("stepper.action")),headerClass:t.cx("stepper.action"),numberClass:t.cx("stepper.number"),titleClass:t.cx("stepper.title"),clickCallback:function(d){return n.clickCallback(d,n.index)}},null,8,["index","active","highlighted","class","headerClass","numberClass","titleClass","clickCallback"])):(p(),b("button",k({key:1,id:n.id,class:t.cx("stepper.action"),role:"tab",tabindex:n.disabled?-1:void 0,"aria-controls":n.ariaControls,onClick:e[0]||(e[0]=function(y){return n.clickCallback(y,n.index)})},n.getStepPT(n.stepperpanel,"action",n.index)),[r("span",k({class:t.cx("stepper.number")},n.getStepPT(n.stepperpanel,"number",n.index)),v(n.index+1),17),r("span",k({class:t.cx("stepper.title")},n.getStepPT(n.stepperpanel,"title",n.index)),v(n.getStepProp(n.stepperpanel,"header")),17)],16,kn))}et.render=_n;var tt={name:"StepperSeparator",hostName:"Stepper",extends:R,props:{template:null,separatorClass:null,stepperpanel:null,index:null,active:null,highlighted:null,getStepPT:null}};function Sn(t,e,n,i,c,l){return n.template?(p(),D(J(n.template),{key:0,class:H(n.separatorClass),index:n.index,active:n.active,highlighted:n.highlighted},null,8,["class","index","active","highlighted"])):(p(),b("span",k({key:1,class:n.separatorClass,"aria-hidden":"true"},n.getStepPT),null,16))}tt.render=Sn;var nt={name:"Stepper",extends:fn,inheritAttrs:!1,emits:["update:activeStep","step-change"],data:function(){return{id:this.$attrs.id,d_activeStep:this.activeStep}},watch:{"$attrs.id":function(e){this.id=e||Q()},activeStep:function(e){this.d_activeStep=e}},mounted:function(){this.id=this.id||Q()},methods:{isStep:function(e){return e.type.name==="StepperPanel"},isStepActive:function(e){return this.d_activeStep===e},getStepProp:function(e,n){return e.props?e.props[n]:void 0},getStepKey:function(e,n){return this.getStepProp(e,"header")||n},getStepHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getStepContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getStepPT:function(e,n,i){var c=this.stepperpanels.length,l={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:i,count:c,first:i===0,last:i===c-1,active:this.isStepActive(i),highlighted:i<this.d_activeStep,disabled:this.isItemDisabled(i)}};return k(this.ptm("stepperpanel.".concat(n),{stepperpanel:l}),this.ptm("stepperpanel.".concat(n),l),this.ptmo(this.getStepProp(e,"pt"),n,l))},updateActiveStep:function(e,n){this.d_activeStep=n,this.$emit("update:activeStep",n),this.$emit("step-change",{originalEvent:e,index:n})},onItemClick:function(e,n){if(this.linear){e.preventDefault();return}n!==this.d_activeStep&&this.updateActiveStep(e,n)},isItemDisabled:function(e){return this.linear&&!this.isStepActive(e)},prevCallback:function(e,n){n!==0&&this.updateActiveStep(e,n-1)},nextCallback:function(e,n){n!==this.stepperpanels.length-1&&this.updateActiveStep(e,n+1)}},computed:{stepperpanels:function(){var e=this;return this.$slots.default().reduce(function(n,i){return e.isStep(i)?n.push(i):i.children&&i.children instanceof Array&&i.children.forEach(function(c){e.isStep(c)&&n.push(c)}),n},[])}},components:{StepperContent:Ye,StepperHeader:et,StepperSeparator:tt}};function oe(t){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(t)}function je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?je(Object(n),!0).forEach(function(i){wn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function wn(t,e,n){return e=Cn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cn(t){var e=xn(t,"string");return oe(e)=="symbol"?e:String(e)}function xn(t,e){if(oe(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(oe(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var On=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],Pn=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"];function In(t,e,n,i,c,l){var y=ae("StepperHeader"),d=ae("StepperSeparator"),f=ae("StepperContent");return p(),b("div",k({class:t.cx("root"),role:"tablist"},t.ptmi("root")),[t.$slots.start?A(t.$slots,"start",{key:0}):x("",!0),t.orientation==="horizontal"?(p(),b(K,{key:1},[r("ul",k({ref:"nav",class:t.cx("nav")},t.ptm("nav")),[(p(!0),b(K,null,W(l.stepperpanels,function(s,o){return p(),b("li",k({key:l.getStepKey(s,o),class:t.cx("stepper.header",{step:s,index:o}),"aria-current":l.isStepActive(o)?"step":void 0,role:"presentation"},pe(pe({},l.getStepPT(s,"root",o)),l.getStepPT(s,"header",o)),{"data-pc-name":"stepperpanel","data-p-highlight":l.isStepActive(o),"data-p-disabled":l.isItemDisabled(o),"data-pc-index":o,"data-p-active":l.isStepActive(o)}),[A(t.$slots,"header",{},function(){var g;return[u(y,{id:l.getStepHeaderActionId(o),template:(g=s.children)===null||g===void 0?void 0:g.header,stepperpanel:s,index:o,disabled:l.isItemDisabled(o),active:l.isStepActive(o),highlighted:o<c.d_activeStep,class:H(t.cx("stepper.action")),"aria-controls":l.getStepContentId(o),clickCallback:function(m){return l.onItemClick(m,o)},getStepPT:l.getStepPT,getStepProp:l.getStepProp,unstyled:t.unstyled},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp","unstyled"])]}),o!==l.stepperpanels.length-1?A(t.$slots,"separator",{key:0},function(){var g;return[u(d,{template:(g=s.children)===null||g===void 0?void 0:g.separator,separatorClass:t.cx("stepper.separator"),stepperpanel:s,index:o,active:l.isStepActive(o),highlighted:o<c.d_activeStep,getStepPT:l.getStepPT(s,"separator",o),unstyled:t.unstyled},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT","unstyled"])]}):x("",!0)],16,On)}),128))],16),r("div",k({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(p(!0),b(K,null,W(l.stepperpanels,function(s,o){var g;return z((p(),D(f,{key:l.getStepKey(s,o),id:l.getStepContentId(o),template:s==null||(g=s.children)===null||g===void 0?void 0:g.content,stepperpanel:s,index:o,active:l.isStepActive(o),highlighted:o<c.d_activeStep,clickCallback:function(m){return l.onItemClick(m,o)},prevCallback:function(m){return l.prevCallback(m,o)},nextCallback:function(m){return l.nextCallback(m,o)},getStepPT:l.getStepPT,"aria-labelledby":l.getStepHeaderActionId(o),unstyled:t.unstyled},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby","unstyled"])),[[_e,l.isStepActive(o)]])}),128))],16)],64)):t.orientation==="vertical"?(p(!0),b(K,{key:2},W(l.stepperpanels,function(s,o){return p(),b("div",k({ref_for:!0,ref:"nav",key:l.getStepKey(s,o),class:t.cx("panel",{step:s,index:o}),"aria-current":l.isStepActive(o)?"step":void 0},pe(pe({},l.getStepPT(s,"root",o)),l.getStepPT(s,"panel",o)),{"data-pc-name":"stepperpanel","data-p-highlight":l.isStepActive(o),"data-p-disabled":l.isItemDisabled(o),"data-pc-index":o,"data-p-active":l.isStepActive(o)}),[r("div",k({class:t.cx("stepper.header",{step:s,index:o})},l.getStepPT(s,"header",o)),[A(t.$slots,"header",{},function(){var g;return[u(y,{id:l.getStepHeaderActionId(o),template:(g=s.children)===null||g===void 0?void 0:g.header,stepperpanel:s,index:o,disabled:l.isItemDisabled(o),active:l.isStepActive(o),highlighted:o<c.d_activeStep,class:H(t.cx("stepper.action")),"aria-controls":l.getStepContentId(o),clickCallback:function(m){return l.onItemClick(m,o)},getStepPT:l.getStepPT,getStepProp:l.getStepProp},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp"])]})],16),u(Oe,k({name:"p-toggleable-content"},l.getStepPT(s,"transition",o)),{default:V(function(){return[z(r("div",k({class:t.cx("stepper.toggleableContent")},l.getStepPT(s,"toggleableContent",o)),[o!==l.stepperpanels.length-1?A(t.$slots,"separator",{key:0},function(){var g;return[u(d,{template:(g=s.children)===null||g===void 0?void 0:g.separator,separatorClass:t.cx("stepper.separator"),stepperpanel:s,index:o,active:l.isStepActive(o),highlighted:o<c.d_activeStep,getStepPT:l.getStepPT(s,"separator",o)},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT"])]}):x("",!0),A(t.$slots,"content",{},function(){var g;return[u(f,{id:l.getStepContentId(o),template:s==null||(g=s.children)===null||g===void 0?void 0:g.content,stepperpanel:s,index:o,active:l.isStepActive(o),highlighted:o<c.d_activeStep,clickCallback:function(m){return l.onItemClick(m,o)},prevCallback:function(m){return l.prevCallback(m,o)},nextCallback:function(m){return l.nextCallback(m,o)},getStepPT:l.getStepPT,"aria-labelledby":l.getStepHeaderActionId(o)},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby"])]})],16),[[_e,l.isStepActive(o)]])]}),_:2},1040)],16,Pn)}),128)):x("",!0),t.$slots.end?A(t.$slots,"end",{key:3}):x("",!0)],16)}nt.render=In;var Vn={},$n={name:"BaseStepperPanel",extends:R,props:{header:null},style:Vn,provide:function(){return{$parentInstance:this}}},me={name:"StepperPanel",extends:$n};function Ln(t,e,n,i,c,l){return A(t.$slots,"default")}me.render=Ln;const Tn={class:"form_item"},Dn={for:"username",class:"text-slate-500 font-bold text-sm"},An={key:0,class:"ml-3"},Kn={key:1,class:"flex flex-col items-start justify-start mt-1"},En={class:"form_item mt-3"},jn={for:"description",class:"text-slate-500 font-bold text-sm"},Bn={class:"flex flex-col items-start justify-start mt-1"},zn={key:0,class:"flex items-center justify-end space-x-4 mt-4"},lt={__name:"KnowledgeBasic",props:{stepperData:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},isEdit:{type:Boolean,default:!1}},emits:["hide","success"],setup(t,{expose:e,emit:n}){const i=he(),c=t,l=M({name:"",description:""}),y=Re({name:Se().required(L("lang.noEmpty")).max(60,L("kb.nameTip")).matches(/^[a-zA-Z][a-zA-Z0-9_]{1,60}[a-zA-Z0-9]$/,L("kb.nameTip")).label(L("kb.createKb"))}),{defineField:d,handleSubmit:f,errors:s}=Me({validationSchema:y});l.name=d("name")[0];const o=n;function g(){o("hide")}const S=f(()=>{He({id:c.data.id,description:l.description}).then(()=>{i.add({severity:"success",summary:L("kb.success"),detail:L("kb.editSuccess"),life:3e3}),o("success")})}),m=f(()=>l,()=>!1);return de(()=>{Object.keys(c.stepperData).length>0&&(l.name=c.stepperData.name,l.description=c.stepperData.description),c.isEdit&&(l.name=c.data.name,l.description=c.data.description)}),e({getFormData:m}),(O,h)=>{const P=Fe,E=Pe,U=ce;return p(),b(K,null,[r("div",Tn,[r("label",Dn,v(O.$t("kb.name")),1),t.isEdit?(p(),b("span",An,v(a(l).name),1)):(p(),b("div",Kn,[u(P,{id:"username",invalid:!!a(s).name,class:"w-full",type:"text",modelValue:a(l).name,"onUpdate:modelValue":h[0]||(h[0]=C=>a(l).name=C)},null,8,["invalid","modelValue"]),r("small",{class:H(["my-1",a(s).name?["text-red-400"]:[]])},v(O.$t("kb.nameTip")),3)]))]),r("div",En,[r("label",jn,v(O.$t("kb.desc")),1),r("div",Bn,[u(E,{id:"description",class:"w-full",modelValue:a(l).description,"onUpdate:modelValue":h[1]||(h[1]=C=>a(l).description=C),autoResize:"",rows:"5",cols:"30",maxlength:"100"},null,8,["modelValue"])])]),t.isEdit?(p(),b("div",zn,[u(U,{label:O.$t("lang.cancel"),severity:"secondary",onClick:g},null,8,["label"]),u(U,{label:O.$t("lang.confirm"),onClick:a(S)},null,8,["label","onClick"])])):x("",!0)],64)}}};var Un={root:function(e){var n=e.props;return["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}]},legend:"p-fieldset-legend",legendtitle:"p-fieldset-legend-text",togglericon:"p-fieldset-toggler",toggleablecontent:"p-toggleable-content",content:"p-fieldset-content"},Fn=X.extend({name:"fieldset",classes:Un}),Rn={name:"BaseFieldset",extends:R,props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:Fn,provide:function(){return{$parentInstance:this}}},it={name:"Fieldset",extends:Rn,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||Q()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||Q()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.legend}},directives:{ripple:xe},components:{PlusIcon:Dt,MinusIcon:Ot}};function re(t){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(t)}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Be(Object(n),!0).forEach(function(i){Mn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mn(t,e,n){return e=Hn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hn(t){var e=Nn(t,"string");return re(e)=="symbol"?e:String(e)}function Nn(t,e){if(re(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(re(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qn=["id"],Gn=["id","aria-controls","aria-expanded","aria-label"],Zn=["id","aria-labelledby"];function Wn(t,e,n,i,c,l){var y=fe("ripple");return p(),b("fieldset",k({class:t.cx("root")},t.ptmi("root")),[r("legend",k({class:t.cx("legend")},t.ptm("legend")),[t.toggleable?x("",!0):A(t.$slots,"legend",{key:0},function(){return[r("span",k({id:c.id+"_header",class:t.cx("legendtitle")},t.ptm("legendtitle")),v(t.legend),17,qn)]}),t.toggleable?z((p(),b("a",k({key:1,id:c.id+"_header",tabindex:"0",role:"button","aria-controls":c.id+"_content","aria-expanded":!c.d_collapsed,"aria-label":l.buttonAriaLabel,onClick:e[0]||(e[0]=function(){return l.toggle&&l.toggle.apply(l,arguments)}),onKeydown:e[1]||(e[1]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)})},ze(ze({},t.toggleButtonProps),t.ptm("toggler"))),[A(t.$slots,"togglericon",{collapsed:c.d_collapsed},function(){return[(p(),D(J(c.d_collapsed?"PlusIcon":"MinusIcon"),k({class:t.cx("togglericon")},t.ptm("togglericon")),null,16,["class"]))]}),A(t.$slots,"legend",{},function(){return[r("span",k({class:t.cx("legendtitle")},t.ptm("legendtitle")),v(t.legend),17)]})],16,Gn)),[[y]]):x("",!0)],16),u(Oe,k({name:"p-toggleable-content"},t.ptm("transition")),{default:V(function(){return[z(r("div",k({id:c.id+"_content",class:t.cx("toggleablecontent"),role:"region","aria-labelledby":c.id+"_header"},t.ptm("toggleablecontent")),[r("div",k({class:t.cx("content")},t.ptm("content")),[A(t.$slots,"default")],16)],16,Zn),[[_e,!c.d_collapsed]])]}),_:3},16)],16)}it.render=Wn;const Jn={class:"form_item"},Qn={class:"text-slate-500 font-bold text-sm"},Xn={class:"flex justify-start items-center space-x-2"},Yn={class:"form_item"},el={class:"text-slate-500 font-bold text-sm"},tl={class:"flex justify-start items-center space-x-2"},nl={class:"form_item"},ll={class:"text-slate-500 font-bold text-sm"},il={class:"flex justify-start items-center space-x-2"},al={class:"form_item"},sl={class:"text-slate-500 font-bold text-sm"},ol={class:"form_item"},rl={class:"text-slate-500 font-bold text-sm"},dl={class:"flex justify-start items-center space-x-2"},cl={class:"form_item"},ul={class:"text-slate-500 font-bold text-sm"},pl={key:0,class:"form_item"},ml={class:"text-slate-500 font-bold text-sm"},fl={class:"flex justify-start items-center space-x-2"},hl={key:1,class:"form_item"},bl={class:"text-slate-500 font-bold text-sm"},gl={class:"flex justify-start items-center space-x-2"},vl={key:2,class:"form_item"},yl={class:"text-slate-500 font-bold text-sm"},kl={class:"flex justify-start items-center space-x-2"},_l={class:"form_item"},Sl={class:"text-slate-500 font-bold text-sm"},wl={__name:"KnowledgeSetting",setup(t,{expose:e}){const n=M({embed_model:"",chunk_size:200,overlap_size:20,distance_strategy:"cosine",search_type:"similarity",k:5,score_threshold:.5,fetch_k:20,lambda_mult:.5,prompt_template:"请根据检索到的背景信息，回答问题"}),i=M([{label:"similarity",value:"similarity"},{label:"similarity_score_threshold",value:"similarity_score_threshold"},{label:"mmr",value:"mmr"}]),c=M([{label:"cosine",value:"cosine"},{label:"l2",value:"l2"},{label:"ip",value:"ip"}]),l=$([]);async function y(){await Ne().then(f=>{const s=f.resData;l.value=s})}function d(){const f={global_param:{embed_model:n.embed_model},storage_param:{chunk_size:n.chunk_size,overlap_size:n.overlap_size,distance_strategy:n.distance_strategy},query_param:{search_type:n.search_type,k:n.k,score_threshold:n.score_threshold,fetch_k:n.fetch_k,lambda_mult:n.lambda_mult,prompt_template:n.prompt_template}};return new Promise(s=>{s(f)})}return e({getSettingData:d}),de(()=>{y()}),(f,s)=>{const o=Ve,g=Ue,S=Ge,m=it,O=Pe;return p(),b("div",null,[r("div",Jn,[r("label",Qn,v(f.$t("kb.embedModelPath")),1),r("div",Xn,[u(o,{class:"w-3/5",modelValue:a(n).embed_model,"onUpdate:modelValue":s[0]||(s[0]=h=>a(n).embed_model=h),options:a(l),optionLabel:"name",optionValue:"local_path",showClear:""},null,8,["modelValue","options"])])]),u(m,{legend:f.$t("kb.storageParams")},{default:V(()=>[r("div",Yn,[r("label",el,v(f.$t("kb.chunkSize")),1),r("div",tl,[u(g,{class:"w-full",modelValue:a(n).chunk_size,"onUpdate:modelValue":s[1]||(s[1]=h=>a(n).chunk_size=h),min:50,max:1024},null,8,["modelValue"]),u(S,{modelValue:a(n).chunk_size,"onUpdate:modelValue":s[2]||(s[2]=h=>a(n).chunk_size=h),min:50,max:1024,useGrouping:!1},null,8,["modelValue"])])]),r("div",nl,[r("label",ll,v(f.$t("kb.overlapSize")),1),r("div",il,[u(g,{class:"w-full",modelValue:a(n).overlap_size,"onUpdate:modelValue":s[3]||(s[3]=h=>a(n).overlap_size=h),min:0,max:100},null,8,["modelValue"]),u(S,{modelValue:a(n).overlap_size,"onUpdate:modelValue":s[4]||(s[4]=h=>a(n).overlap_size=h),min:0,max:100,useGrouping:!1},null,8,["modelValue"])])]),r("div",al,[r("label",sl,v(f.$t("kb.distanceStrategy")),1),u(o,{class:"w-full",modelValue:a(n).distance_strategy,"onUpdate:modelValue":s[5]||(s[5]=h=>a(n).distance_strategy=h),options:a(c),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])])]),_:1},8,["legend"]),u(m,{legend:f.$t("kb.searchParams")},{default:V(()=>[r("div",ol,[r("label",rl,v(f.$t("kb.textCount")),1),r("div",dl,[u(g,{class:"w-full",modelValue:a(n).k,"onUpdate:modelValue":s[6]||(s[6]=h=>a(n).k=h),min:1,max:20},null,8,["modelValue"]),u(S,{modelValue:a(n).k,"onUpdate:modelValue":s[7]||(s[7]=h=>a(n).k=h),min:1,max:20,useGrouping:!1},null,8,["modelValue"])])]),r("div",cl,[r("label",ul,v(f.$t("kb.searchType")),1),u(o,{class:"w-full",modelValue:a(n).search_type,"onUpdate:modelValue":s[8]||(s[8]=h=>a(n).search_type=h),options:a(i),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),a(n).search_type==="similarity_score_threshold"?(p(),b("div",pl,[r("label",ml,v(f.$t("kb.scoreThreshold")),1),r("div",fl,[u(g,{class:"w-full",modelValue:a(n).score_threshold,"onUpdate:modelValue":s[9]||(s[9]=h=>a(n).score_threshold=h),min:0,max:1,step:.1},null,8,["modelValue"]),u(S,{modelValue:a(n).score_threshold,"onUpdate:modelValue":s[10]||(s[10]=h=>a(n).score_threshold=h),min:0,max:1,step:.1,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),a(n).search_type==="mmr"?(p(),b("div",hl,[r("label",bl,v(f.$t("kb.fetchK")),1),r("div",gl,[u(g,{class:"w-full",modelValue:a(n).fetch_k,"onUpdate:modelValue":s[11]||(s[11]=h=>a(n).fetch_k=h),min:1,max:50},null,8,["modelValue"]),u(S,{modelValue:a(n).fetch_k,"onUpdate:modelValue":s[12]||(s[12]=h=>a(n).fetch_k=h),min:1,max:50,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),a(n).search_type==="mmr"?(p(),b("div",vl,[r("label",yl,v(f.$t("kb.lambdaMult")),1),r("div",kl,[u(g,{class:"w-full",modelValue:a(n).lambda_mult,"onUpdate:modelValue":s[13]||(s[13]=h=>a(n).lambda_mult=h),min:0,max:1,step:.1},null,8,["modelValue"]),u(S,{modelValue:a(n).lambda_mult,"onUpdate:modelValue":s[14]||(s[14]=h=>a(n).lambda_mult=h),min:0,max:1,step:.1,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),r("div",_l,[r("label",Sl,v(f.$t("kb.propmtTemplate")),1),u(O,{class:"w-full",modelValue:a(n).prompt_template,"onUpdate:modelValue":s[15]||(s[15]=h=>a(n).prompt_template=h),rows:"5",cols:"30",maxlength:300},null,8,["modelValue"])])]),_:1},8,["legend"])])}}},Cl=Ie(wl,[["__scopeId","data-v-be585acb"]]),xl={class:"flex flex-col"},Ol={class:"flex pt-4 justify-end"},Pl={class:"flex flex-col"},Il={class:"flex pt-4 justify-between"},Vl={class:"flex flex-col"},$l={class:"flex pt-4 justify-between"},Ll={__name:"CreateKnowledgeStepper",emits:["success"],setup(t,{emit:e}){const n=he(),i=$(0),c=$(),l=$(),y=$(),d=$({}),f=$([]);async function s(m){i.value===0?c.value.getFormData().then(O=>{O&&(d.value=Object.assign({},O),m())}):i.value===1&&(await l.value.getSelectedFiles().then(O=>{f.value=O}),f.value.length>0?m():n.add({severity:"error",summary:L("kb.error"),detail:L("kb.selectFileTip"),life:3e3}))}const o=e,g=$(!1);async function S(){const m=await y.value.getSettingData(),O=new FormData;f.value.forEach(h=>{O.append("files",h)}),O.append("name",d.value.name),O.append("description",d.value.description),O.append("knowledge_setting",JSON.stringify(m)),g.value=!0,Pt(O).then(()=>{n.add({severity:"success",summary:L("kb.success"),detail:L("kb.createSuccess"),life:3e3}),o("success")}).finally(()=>{g.value=!1})}return(m,O)=>{const h=ce;return p(),D(a(nt),{linear:"",activeStep:a(i),"onUpdate:activeStep":O[0]||(O[0]=P=>ie(i)?i.value=P:null)},{default:V(()=>[u(a(me),{header:m.$t("kb.basicInfo")},{content:V(({nextCallback:P})=>[r("div",xl,[u(lt,{ref_key:"knowledgeBasicRef",ref:c,stepperData:a(d)},null,8,["stepperData"])]),r("div",Ol,[u(h,{label:m.$t("kb.next"),icon:"pi pi-arrow-right",iconPos:"right",onClick:E=>s(P)},null,8,["label","onClick"])])]),_:1},8,["header"]),u(a(me),{header:m.$t("kb.uploadFile")},{content:V(({prevCallback:P,nextCallback:E})=>[r("div",Pl,[u(Tt,{ref_key:"uploadFileRef",ref:l},null,512)]),r("div",Il,[u(h,{label:m.$t("kb.previous"),severity:"secondary",icon:"pi pi-arrow-left",onClick:P},null,8,["label","onClick"]),u(h,{label:m.$t("kb.next"),icon:"pi pi-arrow-right",iconPos:"right",onClick:U=>s(E)},null,8,["label","onClick"])])]),_:1},8,["header"]),u(a(me),{header:m.$t("kb.kbSetting")},{content:V(({prevCallback:P})=>[r("div",Vl,[u(Cl,{ref_key:"knowledgeSettingRef",ref:y},null,512)]),r("div",$l,[u(h,{label:m.$t("kb.previous"),severity:"secondary",icon:"pi pi-arrow-left",onClick:P,disabled:a(g)},null,8,["label","onClick","disabled"]),u(h,{label:m.$t("kb.create"),onClick:S,disabled:a(g)},null,8,["label","disabled"])])]),_:1},8,["header"])]),_:1},8,["activeStep"])}}},Tl={class:"form_item"},Dl={for:"username",class:"text-slate-500 font-bold text-sm"},Al={class:"ml-3"},Kl={class:"form_item mt-3"},El={for:"description",class:"text-slate-500 font-bold text-sm"},jl={class:"flex flex-col items-start justify-start mt-1"},Bl={class:"form_item"},zl={class:"text-slate-500 font-bold text-sm"},Ul={class:"flex justify-start items-center space-x-2"},Fl={class:"form_item"},Rl={class:"text-slate-500 font-bold text-sm"},Ml={key:0,class:"form_item"},Hl={class:"text-slate-500 font-bold text-sm"},Nl={class:"flex justify-start items-center space-x-2"},ql={key:1,class:"form_item"},Gl={class:"text-slate-500 font-bold text-sm"},Zl={class:"flex justify-start items-center space-x-2"},Wl={key:2,class:"form_item"},Jl={class:"text-slate-500 font-bold text-sm"},Ql={class:"flex justify-start items-center space-x-2"},Xl={class:"form_item"},Yl={class:"text-slate-500 font-bold text-sm"},ei={class:"flex items-center justify-end space-x-4 mt-4"},ti={__name:"EditKnowledge",props:{data:{type:Object,default:()=>({})}},emits:["hide","success"],setup(t,{emit:e}){const n=he(),i=$(!1),c=t,l=M([{label:"similarity",value:"similarity"},{label:"similarity_score_threshold",value:"similarity_score_threshold"},{label:"mmr",value:"mmr"}]),y=M({name:"",description:""}),d=M({search_type:"similarity",k:4,score_threshold:.5,fetch_k:20,lambda_mult:.5,prompt_template:""}),f=e;function s(){f("hide")}function o(){i.value=!0,He({id:c.data.id,description:y.description,user:[],knowledge_setting:JSON.stringify(d)}).then(()=>{n.add({severity:"success",summary:L("kb.success"),detail:L("kb.editSuccess"),life:3e3}),f("success",d)}).finally(()=>{i.value=!1})}function g(){y.name=c.data.name,y.description=c.data.description,i.value=!0,It(c.data.id).then(S=>{const m=S.resData;d.search_type=m.search_type,d.k=m.k,d.score_threshold=m.score_threshold,d.fetch_k=m.fetch_k,d.lambda_mult=m.lambda_mult,d.prompt_template=m.prompt_template}).finally(()=>{i.value=!1})}return de(()=>{g()}),(S,m)=>{const O=Pe,h=Ue,P=Ge,E=Ve,U=ce;return p(),b(K,null,[r("div",Tl,[r("label",Dl,v(S.$t("kb.name")),1),r("span",Al,v(a(y).name),1)]),r("div",Kl,[r("label",El,v(S.$t("kb.desc")),1),r("div",jl,[u(O,{id:"description",class:"w-full",modelValue:a(y).description,"onUpdate:modelValue":m[0]||(m[0]=C=>a(y).description=C),autoResize:"",rows:"5",cols:"30",maxlength:"100"},null,8,["modelValue"])])]),r("div",Bl,[r("label",zl,v(S.$t("kb.textCount")),1),r("div",Ul,[u(h,{class:"w-full",modelValue:a(d).k,"onUpdate:modelValue":m[1]||(m[1]=C=>a(d).k=C),min:1,max:20},null,8,["modelValue"]),u(P,{modelValue:a(d).k,"onUpdate:modelValue":m[2]||(m[2]=C=>a(d).k=C),min:1,max:20,useGrouping:!1},null,8,["modelValue"])])]),r("div",Fl,[r("label",Rl,v(S.$t("kb.searchType")),1),u(E,{class:"w-full",modelValue:a(d).search_type,"onUpdate:modelValue":m[3]||(m[3]=C=>a(d).search_type=C),options:a(l),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),a(d).search_type==="similarity_score_threshold"?(p(),b("div",Ml,[r("label",Hl,v(S.$t("kb.scoreThreshold")),1),r("div",Nl,[u(h,{class:"w-full",modelValue:a(d).score_threshold,"onUpdate:modelValue":m[4]||(m[4]=C=>a(d).score_threshold=C),min:0,max:1,step:.1},null,8,["modelValue"]),u(P,{modelValue:a(d).score_threshold,"onUpdate:modelValue":m[5]||(m[5]=C=>a(d).score_threshold=C),min:0,max:1,step:.1,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),a(d).search_type==="mmr"?(p(),b("div",ql,[r("label",Gl,v(S.$t("kb.fetchK")),1),r("div",Zl,[u(h,{class:"w-full",modelValue:a(d).fetch_k,"onUpdate:modelValue":m[6]||(m[6]=C=>a(d).fetch_k=C),min:1,max:50},null,8,["modelValue"]),u(P,{modelValue:a(d).fetch_k,"onUpdate:modelValue":m[7]||(m[7]=C=>a(d).fetch_k=C),min:1,max:50,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),a(d).search_type==="mmr"?(p(),b("div",Wl,[r("label",Jl,v(S.$t("kb.lambdaMult")),1),r("div",Ql,[u(h,{class:"w-full",modelValue:a(d).lambda_mult,"onUpdate:modelValue":m[8]||(m[8]=C=>a(d).lambda_mult=C),min:0,max:1,step:.1},null,8,["modelValue"]),u(P,{modelValue:a(d).lambda_mult,"onUpdate:modelValue":m[9]||(m[9]=C=>a(d).lambda_mult=C),min:0,max:1,step:.1,useGrouping:!1},null,8,["modelValue"])])])):x("",!0),r("div",Xl,[r("label",Yl,v(S.$t("kb.propmtTemplate")),1),u(O,{class:"w-full",modelValue:a(d).prompt_template,"onUpdate:modelValue":m[10]||(m[10]=C=>a(d).prompt_template=C),rows:"5",cols:"30",maxlength:300},null,8,["modelValue"])]),r("div",ei,[u(U,{label:S.$t("lang.cancel"),severity:"secondary",onClick:s},null,8,["label"]),u(U,{label:S.$t("lang.confirm"),onClick:o,loading:a(i)},null,8,["label","loading"])])],64)}}},ni=Ie(ti,[["__scopeId","data-v-0661c2d7"]]),li={class:"form_item"},ii={class:"text-slate-500 font-bold text-sm"},ai={class:"flex flex-col items-start justify-start mt-1"},si={key:0,class:"my-1 text-red-400"},oi={class:"form_item mt-3"},ri={for:"description",class:"text-slate-500 font-bold text-sm"},di={class:"flex flex-col items-start justify-start mt-1"},ci={key:0,class:"my-1 text-red-400"},ui={class:"flex items-center justify-end space-x-4 mt-4"},pi={__name:"DBConfig",emits:["hide","success"],setup(t,{emit:e}){const n=he(),i=M({chromadb_persist_path:"",embed_model:""}),c=Re({chromadb_persist_path:Se().required(L("lang.noEmpty")),embed_model:Se().required(L("lang.noEmpty"))}),{defineField:l,handleSubmit:y,errors:d}=Me({validationSchema:c});i.chromadb_persist_path=l("chromadb_persist_path")[0],i.embed_model=l("embed_model")[0];const f=e;function s(){f("hide")}function o(){qe("chromadb").then(h=>{const P=h.resData;i.chromadb_persist_path=P.chromadb_persist_path,i.embed_model=P.embed_model})}const g=$(!1),S=$([]);async function m(){g.value=!0,await Ne().then(h=>{const P=h.resData;S.value=P}),await o(),g.value=!1}const O=y(()=>{Vt({name:"chromadb",chromadb_persist_path:i.chromadb_persist_path,embed_model:i.embed_model}).then(()=>{n.add({severity:"success",summary:L("kb.success"),detail:L("kb.editSuccess"),life:3e3}),f("success")})});return de(()=>{m()}),(h,P)=>{const E=Fe,U=Ve,C=ce;return p(),b(K,null,[r("div",li,[r("label",ii,v(h.$t("kb.chromaPath")),1),r("div",ai,[u(E,{invalid:!!a(d).chromadb_persist_path,class:"w-full",type:"text",modelValue:a(i).chromadb_persist_path,"onUpdate:modelValue":P[0]||(P[0]=Y=>a(i).chromadb_persist_path=Y)},null,8,["invalid","modelValue"]),a(d).chromadb_persist_path?(p(),b("small",si,v(h.$t("lang.noEmpty")),1)):x("",!0)])]),r("div",oi,[r("label",ri,v(h.$t("kb.embedModelPath")),1),r("div",di,[u(U,{class:"w-3/5",modelValue:a(i).embed_model,"onUpdate:modelValue":P[1]||(P[1]=Y=>a(i).embed_model=Y),invalid:!!a(d).embed_model,options:a(S),optionLabel:"name",optionValue:"local_path"},null,8,["modelValue","invalid","options"]),a(d).embed_model?(p(),b("small",ci,v(h.$t("lang.noEmpty")),1)):x("",!0)])]),r("div",ui,[u(C,{label:h.$t("lang.cancel"),severity:"secondary",onClick:s},null,8,["label"]),u(C,{label:h.$t("lang.confirm"),onClick:a(O),disabled:a(g)},null,8,["label","onClick","disabled"])])],64)}}},mi={class:"shrink grow h-full w-full pt-10 3xl:mx-28 2xl:mx-12 xl:mx-8 lg:mx-6"},fi={class:"flex justify-between content-end my-4"},hi={class:"title"},bi={class:"font-semibold text-2xl"},gi={class:"flex space-x-3"},vi={key:0,class:"flex flex-row flex-wrap gap-4 justify-start"},yi={key:1},ki={key:0,class:"max-h-[calc(100vh-130px)] overflow-y-auto"},_i={class:"flex flex-row flex-wrap gap-4 items-center justify-start"},Si={class:"flex justify-between items-center"},wi={class:"truncate max-w-56"},Ci={class:"text-sm"},xi={class:"ml-2"},Oi=["onClick"],Pi={class:"card-desc"},Ii={class:"flex items-center mt-1"},Vi={class:"mr-5"},$i={class:"ml-1"},Li={class:"mr-5"},Ti={class:"ml-1"},Di={key:0,class:"paginator mt-2"},Ai={key:1},Ki={class:"truncate max-w-60"},Ei={class:"truncate max-w-60"},ji={class:"truncate max-w-60"},Bi={__name:"Index",setup(t){const e=kt(),n={},i=(_,I)=>{_&&(n[I.name]=_)},c=$({});function l(_){_&&(c.value=_),o.value=!0,C.value=L("kb.editKb"),h(),ke(()=>{m.value=!0})}const y=gt();function d(_){_&&(c.value=_),y.require({header:L("kb.deleteKbConfirmTitle"),message:L("kb.deleteKbConfirmContent"),icon:"pi pi-info-circle",rejectLabel:L("lang.cancel"),acceptLabel:L("lang.confirm"),rejectClass:"p-button-secondary p-button-outlined",acceptClass:"p-button-danger",accept:()=>{$t(c.value.id).then(()=>{$e()})}})}const f=$([{label:L("kb.edit"),icon:"pi pi-pencil",type:"",command:()=>{l()}},{label:L("kb.delete"),icon:"pi pi-trash",type:"danger",command:()=>{d()}}]),s=(_,I)=>{n[I.name]&&(c.value=Object.assign({},I),n[I.name].toggle(_))},o=$(!1),g=$(!1),S=$(!1),m=$(!1),O=$(!1);function h(){g.value=!1,S.value=!1,m.value=!1,O.value=!1}function P(_){e.replace({path:"/knowledge-detail",query:{id:_.id,name:_.name}})}function E(){o.value=!1,h()}const U=$(),C=$("");async function Y(){await De()&&(o.value=!0,C.value=L("kb.createKb"),h(),ke(()=>{g.value=!0}))}function ue(){$e(),E()}const be=$([]),q=$(0);let ee={page:1,pageSize:10};function ge(_=""){return Lt({name:_,page:ee.page,pagesize:ee.pageSize}).then(I=>{const F=I.resData;be.value=F.data,q.value=F.total}).finally(()=>{})}const G=$(0);function $e(){ee.page=1,G.value=0,ge()}function Le(_){ee.page=_.page+1,ee.pageSize=_.rows,ge()}function Te(){C.value=L("kb.dbConfig"),o.value=!0,ke(()=>{O.value=!0})}const ve=$(!1);async function De(){let _=!1;return ve.value=!0,await qe("chromadb").then(async I=>{I.resData.embed_model?(_=!0,await ge()):Te()}),ve.value=!1,_}const at=vt(()=>"/yuan-chat/"),te=$("card"),st=M([{type:"card",icon:"pi pi-folder"},{type:"table",icon:"pi pi-table"}]);return de(()=>{De()}),(_,I)=>{const F=ce,ot=Xe,ne=Je,rt=We,dt=xt,ct=St,Z=Ct,ut=wt,pt=yt,le=fe("tooltip");return p(),b(K,null,[r("div",mi,[r("div",fi,[r("div",hi,[r("div",bi,v(_.$t("kb.kbManagement")),1)]),r("div",gi,[u(F,{class:"h-10",icon:"pi pi-plus",label:_.$t("kb.createKb"),onClick:Y},null,8,["label"]),u(F,{class:"h-10 ml-2",icon:"pi pi-database",label:_.$t("kb.dbConfig"),onClick:Te},null,8,["label"]),u(ot,{modelValue:a(te),"onUpdate:modelValue":I[0]||(I[0]=w=>ie(te)?te.value=w:null),options:a(st),optionValue:"type",allowEmpty:!1},{option:V(w=>[r("i",{class:H(w.option.icon)},null,2)]),_:1},8,["modelValue","options"])])]),a(ve)?(p(),b("div",vi,[u(ne,{width:"280px",height:"270px"}),u(ne,{width:"280px",height:"270px"}),u(ne,{width:"280px",height:"270px"}),u(ne,{width:"280px",height:"270px"}),u(ne,{width:"280px",height:"270px"})])):(p(),b("div",yi,[a(te)==="card"?(p(),b("div",ki,[r("div",_i,[(p(!0),b(K,null,W(a(be),w=>(p(),D(dt,{class:"w-[280px]",key:w.id},{title:V(()=>[r("div",Si,[r("div",null,[z((p(),b("div",wi,[N(v(w.name),1)])),[[le,w.name]]),r("div",Ci,[r("small",null,v(w.createtime),1)])]),r("div",null,[u(F,{link:"",icon:"pi pi-ellipsis-h",onClick:j=>s(j,w),"aria-haspopup":"true","aria-controls":"overlay_menu"},null,8,["onClick"]),u(rt,{class:"min-w-[100px]",ref_for:!0,ref:j=>i(j,w),id:"overlay_menu",model:a(f),popup:!0},{item:V(({item:j,props:mt})=>[r("a",k({class:["flex items-center",j.type==="danger"?["text-red-400"]:[]],ref_for:!0},mt.action),[r("span",{class:H(j.icon)},null,2),r("span",xi,v(j.label),1)],16)]),_:2},1032,["model"])])])]),content:V(()=>[r("div",{class:"content h-40 cursor-pointer",onClick:j=>P(w)},[r("div",{class:"h-full bg-local bg-right-bottom bg-no-repeat bg-[length:100px_100px]",style:_t(`background-image: url(${a(at)}folder.png)`)},[z((p(),b("span",Pi,[N(v(w.description),1)])),[[le,w.description]])],4)],8,Oi)]),footer:V(()=>[r("div",Ii,[r("div",Vi,[I[4]||(I[4]=r("i",{class:"pi pi-folder"},null,-1)),r("span",$i,v(w.count),1)]),r("div",Li,[I[5]||(I[5]=r("i",{class:"pi pi-book"},null,-1)),r("span",Ti,v(w.volume),1)])])]),_:2},1024))),128))]),a(q)>0?(p(),b("div",Di,[u(ct,{first:a(G),"onUpdate:first":I[1]||(I[1]=w=>ie(G)?G.value=w:null),rows:10,totalRecords:a(q),rowsPerPageOptions:[10,20,30],onPage:Le},{start:V(()=>I[6]||(I[6]=[])),end:V(()=>[N(v(_.$t("kb.total"))+" "+v(a(q))+" "+v(_.$t("kb.items")),1)]),_:1},8,["first","totalRecords"])])):x("",!0)])):x("",!0),a(te)==="table"?(p(),b("div",Ai,[u(ut,{lazy:"",value:a(be),paginator:a(q)>0,first:a(G),"onUpdate:first":I[2]||(I[2]=w=>ie(G)?G.value=w:null),rows:10,rowsPerPageOptions:[10,20,30],totalRecords:a(q),stripedRows:"",rowHover:"",resizableColumns:"",dataKey:"id",tableStyle:"min-width: 50rem",onPage:Le},{paginatorstart:V(()=>I[7]||(I[7]=[])),paginatorend:V(()=>[N(v(_.$t("kb.total"))+" "+v(a(q))+" "+v(_.$t("kb.items")),1)]),default:V(()=>[u(Z,{field:"name",header:_.$t("kb.name")},{body:V(({data:w})=>[u(F,{text:"",onClick:j=>P(w)},{default:V(()=>[z((p(),b("div",Ki,[N(v(w.name),1)])),[[le,w.name]])]),_:2},1032,["onClick"])]),_:1},8,["header"]),u(Z,{field:"count",header:_.$t("kb.docCount")},null,8,["header"]),u(Z,{field:"volume",header:_.$t("kb.docSize")},null,8,["header"]),u(Z,{field:"user",header:_.$t("kb.sharedUser")},{body:V(({data:w})=>[z((p(),b("div",Ei,[N(v(w.user.join(",")),1)])),[[le,w.user.join(",")]])]),_:1},8,["header"]),u(Z,{field:"createtime",header:_.$t("kb.uploadTime")},null,8,["header"]),u(Z,{field:"description",header:_.$t("kb.desc")},{body:V(({data:w})=>[z((p(),b("div",ji,[N(v(w.description),1)])),[[le,w.description]])]),_:1},8,["header"]),u(Z,{field:"operation",header:_.$t("kb.operation")},{body:V(w=>[u(F,{label:_.$t("kb.edit"),text:"",onClick:j=>l(w.data)},null,8,["label","onClick"]),u(F,{label:_.$t("kb.delete"),text:"",severity:"danger",onClick:j=>d(w.data)},null,8,["label","onClick"])]),_:1},8,["header"])]),_:1},8,["value","paginator","first","totalRecords"])])):x("",!0)]))]),u(pt,{visible:a(o),"onUpdate:visible":I[3]||(I[3]=w=>ie(o)?o.value=w:null),modal:"",header:a(C),style:{width:"750px"},onHide:h},{default:V(()=>[a(g)?(p(),D(Ll,{key:0,ref:"createKnowledgeStepperRef",onHide:E,onSuccess:ue},null,512)):x("",!0),a(S)?(p(),D(lt,{key:1,ref_key:"knowledgeBasicRef",ref:U,data:a(c),onHide:E,onSuccess:ue},null,8,["data"])):x("",!0),a(m)?(p(),D(ni,{key:2,ref:"editKnowledgeRef",data:a(c),onHide:E,onSuccess:ue},null,8,["data"])):x("",!0),a(O)?(p(),D(pi,{key:3,ref:"dbConfigRef",onHide:E,onSuccess:ue},null,512)):x("",!0)]),_:1},8,["visible","header"])],64)}}},Qi=Ie(Bi,[["__scopeId","data-v-c7b039a3"]]);export{Qi as default};
