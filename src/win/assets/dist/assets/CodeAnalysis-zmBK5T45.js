import{r as p,c as a,o as n,d,l as h,j as x,b as t,a as l,t as u,s as b}from"./index-B9s1B9jQ.js";import{s as k}from"./fileupload.esm-CQF3QjHR.js";import{f as y}from"./_plugin-vue_export-helper-D8ncxyMm.js";import{p as F,q as w}from"./knowledge-RiB-jk2J.js";import"./inputnumber.esm-CIhko8if.js";const C={class:"file-container w-full flex flex-col justify-start items-start"},g={key:0,class:"pi pi-spin pi-spinner mr-1"},B={key:1,class:"pi pi-file mr-1"},S={key:0,class:"flex items-center w-full mt-2 cursor-pointer"},z={class:"w-56 break-all whitespace-nowrap overflow-hidden text-ellipsis"},U={class:"ml-4"},R={__name:"CodeAnalysis",setup(D){const s=p(!1),r=p(),e=p([]);function f(){e.value=[]}function m(){e.value=[],w()}const _=i=>{const o=new FormData;i.files.forEach(c=>{o.append("file",c)}),s.value=!0,e.value=[],F(o).then(()=>{e.value=i.files,r.value.clear(),r.value.uploadedFileCount=0}).finally(()=>{s.value=!1})};return(i,o)=>{const c=k,v=b;return n(),a("div",C,[d(c,{mode:"basic",name:"uploader",ref_key:"uploaderRef",ref:r,url:"",accept:".zip","choose-label":i.$t("kb.selectFile"),"upload-icon":"pi pi-file",maxFileSize:50*1024*1024,auto:"",customUpload:"",onUploader:_,onSelect:f,disabled:t(s),pt:{chooseButton:{class:"p-button-text"}}},{uploadicon:x(()=>[t(s)?(n(),a("i",g)):(n(),a("i",B))]),_:1},8,["choose-label","disabled"]),t(e).length>0?(n(),a("div",S,[o[1]||(o[1]=l("i",{class:"pi pi-file text-4xl"},null,-1)),l("div",null,[l("div",z,u(t(e)[0].name),1),l("div",null,u(t(y)(t(e)[0].size)),1)]),l("div",U,[d(v,{icon:"pi pi-times",onClick:o[0]||(o[0]=L=>m()),rounded:"",text:"",severity:"danger"})])])):h("",!0)])}}};export{R as default};
